一、进程基本介绍

1.每一个进程都会对应一个父进程，而这个父进程可以复制多个子进程

2.每个进程都有两种存在方式，前台和后台

3.一般系统的服务都是以进程存在的，直到关机才会结束

二、进程管理

1.查看进程

ps指令

语法:ps [选项]

常用选项:

```shell
-e   显示所有进程
-f    全格式
-h   不显示标题
-l    长格式
-w  宽输出
-a   显示终端上的所有进程，包括其他用户的进程
-r   只显示正在运行的进程
-u  以用户为主的格式来显示程序状况
-x  显示所有程序，不以终端机来区分
```

查看进程组合指令:

```shell
ps -aux

各列解释:
USER  	进程的用户；
PID   	进程的ID；
%CPU  	进程占用的CPU百分比；
%MEM  	占用内存的百分比；
VSZ   	该进程使用的虚拟内存量（KB）；
RSS   	该进程占用的固定内存量（KB）；
TTY   	该进程在哪个终端上运行（登陆者的终端位置），若与终端无关，则显示（？）；
START 	该进程被触发启动时间；
TIME  	该进程实际使用CPU运行的时间；
COMMAND 命令的名称和参数；
```

![001](D:\Linux_Notes\Linux进程管理\001.png)

查看父进程:

```shell
ps -ef

各列解释:
UID       用户ID
PID       进程ID
PPID      父进程ID
C         CPU占用率
STIME     开始时间
TTY       开始此进程的TTY----终端设备
TIME      此进程运行的总时间
CMD       命令名
```

![002](D:\Linux_Notes\Linux进程管理\002.png)

2.切换进程

1)显示作业

```shell
jobs -p #仅显示进程号

jobs -l #同时显示进程号和作业号
```

注:

a.jobs -l查询结果最后一列为产生该作业的Shell命令行

b.可以按ctrl+z挂起进程

2)进程的前后台转换

```shell
bg [作业号] #将前台作业切换到后台运行

fg [作业号] #将后台作业切换到前台运行
```

3.设置进程优先级

1)nice命令

语法:nice [-优先级值] 程序名(不写优先级值，默认优先级为10)

```shell
nice --5 vi #设置vi进程优先级为-5
```

注:优先级范围为-20~20,优先级20处理最快

2)renice命令

语法:renice 优先级值 参数

```shell
renice 8 -p 2896 #将进程号为2896进程的优先级设置为8
```

4.暂停进程

sleep命令

语法:sleep 时间值

```shell
sleep 10 #暂停shell进程10s，可以在/etc/passwd文件看到10s后才有信息刷新
```

5.终止进程

1)kill [选项] 进程号(通过进程号杀死进程)

```shell
kill 3928 #杀死进程号为3928的进程

kill -9 4044 #选项-9表示强迫进程立即停止，用于比较重要的进程
```

2.killall 进程名称(通过进程名杀死进程，也支持通配符)

```shell
killall sshd #杀死sshd进程
```

三、进程监视

1.top指令

作用:动态监控进程，与ps指令类似

语法:top [选项]

```shell
#10s刷新一次进程状态
top -d 10

#监视某用户的进程
top后按u回车再输入用户名

#终止某进程
top后按k回车再输入想终止进程ID
```

2.netstat指令

作用:监控网络状态

语法:netstat [选项]

```shell
netstat -anp #按一定顺序显示输出那个进程被调用
```

注:如果进程太多可以加| more

3.free指令

作用:显示内存和交换分区的相关信息

```shell
free -m #以MB为单位显示信息，默认KB为单位

free -s 10 #10s刷新一次交换分区情况
```

注:free命令中Mem表示内存，Swap表示交换分区，total表示总量，used表示以使用数量，free表示空闲数量

